<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrito - Rutas Secretas </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="Css/Global.css">
  <link rel="stylesheet" href="Css/Carrito.css">
</head>

<body>
  <nav class="navbar navbar-expand-lg custom-navbar fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="Index.html">
        <img src="Images/logo_basic.png" alt="Rutas Secretas" class="navbar-logo me-2">
        <span class="brand-text fs-4">Rutas Secretas</span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="Index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Productos.html">Tours</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Nosotros.html">Nosotros</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
              Más
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="Contactos.html">Contacto</a></li>
              <li><a class="dropdown-item" href="Blogs.html">Blogs</a></li>
            </ul>
          </li>
        </ul>

        <!-- Zona usuario -->
        <div class="navbar-right d-flex align-items-center" id="userArea">
          <!-- Aquí se carga dinámicamente el panel flotante -->
          <div class="user-menu-container hidden" id="userMenuContainer">
            <div id="userMenuToggle" class="user-toggle">
              <img src="Images/Vintage_nature-preview.png" class="user-avatar" alt="user">
              <span id="userNameLabel">Usuario</span>
              <span class="arrow">▼</span>
            </div>

            <div id="userPanel" class="user-panel hidden">
              <div class="user-info">
                <img src="Images/Vintage_nature-preview.png" class="user-avatar-large">
                <p id="panelUserName" class="user-name"></p>
                <p id="panelUserEmail" class="user-email"></p>
              </div>
              <hr>
              <button class="user-btn">Mi Perfil</button>
              <button id="logoutBtn" class="user-btn logout">Cerrar Sesión</button>
            </div>
          </div>

          <a href="Carrito.html" class="nav-btn ms-2" id="carritoBtn">Carrito</a>
          <a href="Login.html" class="nav-btn highlight ms-2" id="loginBtn">Iniciar Sesión</a>
        </div>
      </div>
    </div>
  </nav>

  <main class="container mt-5 pt-5">
    <div class="container-fluid">
      <h2 id="carrito-titulo" class="text-center mb-4 pt-3">
        Tu Carrito de Compras</h2>
      <div class="row">

        <div class="col-lg-8 mb-4">
          <section id="carritoSection">
            <div class="row" id="carrito-lista">
            </div>
          </section>
        </div>

        <div class="col-lg-4">
          <div class="resumen-orden shadow-sm p-4">
            <h4 class="card-title mb-3 border-bottom pb-2">Resumen de la Compra</h4>

            <div class="d-flex justify-content-between mb-2">
              <span>Subtotal:</span>
              <span id="carrito-total-subtotal">$<span id="carrito-subtotal-display">0</span></span>
            </div>

            <div class="d-flex justify-content-between mb-2">
              <span>Descuento:</span>
              <span class="text-danger">-$0</span>
            </div>

            <hr>

            <div class="d-flex justify-content-between align-items-center mb-4">
              <h4 class="m-0">Total:</h4>
              <h4 class="m-0 text-primary">$<span id="carrito-total">0</span></h4>
            </div>

            <button id="Pagar" class="btn-full-width mb-3">
              Proceder al Pago
            </button>

            <button id="vaciar-carrito" class="btn-outline-full-width">
              Vaciar Carrito
            </button>

          </div>
        </div>

      </div>
    </div>
  </main>

  <br><br><br>

  <footer class="footer-simple">
    <div class="footer-top">
      <img src="Images\logo_basic.png" alt="Logo" class="footer-logo">
      <p class="footer-slogan">Descubre Chile como nunca antes</p>
    </div>
    <div class="footer-bottom">
      <nav class="footer-nav">
        <a href="Index.html">Inicio</a>
        <a href="Productos.html">Paquetes</a>
        <a href="Contactos.html">Contacto</a>
        <a href="Nosotros.html">Nosotros</a>
      </nav>
      <p class="footer-copy">&copy; 2018 Rutas Secretas Chile. Todos los derechos reservados</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="Js/UserState.js"></script>
  <script src="Js/Carrito.js"></script>
</body>

</html>